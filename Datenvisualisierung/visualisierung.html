<html>

<head>
    <script src="https://d3js.org/d3.v5.js"></script>

    <style>
        .plus:hover {
            cursor: pointer;
        }

        .plus:hover circle.background {
            fill: lightblue;
        }
    </style>
</head>

<body>
    <svg style="width: 95%; height: 95%">
        <g id="all">
            <image xlink:href="Abbildung1.png" x="0" y="0" height="560" width="750" />
            <!-- <circle cx= "150" cy="100" r="10" fill="blue"></circle> -->

            <g>
                <circle cx="200" cy="280" r="5" fill="red" class="head1"></circle>
                <circle cx="220" cy="330" r="5" fill="red" class="arm1"></circle>
                <circle cx="210" cy="380" r="5" fill="red" class="leg1"></circle>
                <circle cx="185" cy="325" r="5" fill="red" class="back1"></circle>
            </g>

            <g>
                <circle cx="500" cy="195" r="5" fill="red" class="head2"></circle>
                <circle cx="520" cy="245" r="5" fill="red" class="arm2"></circle>
                <circle cx="510" cy="300" r="5" fill="red" class="leg2"></circle>
                <circle cx="485" cy="240" r="5" fill="red" class="back2"></circle>
            </g>


            <g transform="translate(240 270) scale(0.3 0.3)" class="plus" id="home">
                <circle cx="0" cy="0" r="45" fill="white" stroke-width="0" class="background"></circle>
                <circle cx="0" cy="0" r="45" fill="none" stroke-width="7.5" stroke="blue"></circle>
                <line x1="-17.5" y1="0" x2="17.5" y2="0" stroke-width="5" stroke="blue"></line>
                <line x1="0" y1="-17.5" x2="0" y2="17.5" stroke-width="5" stroke="blue" class="plus"></line>
            </g>
            <g transform="translate(600 200) scale(0.3 0.3)" class="plus" id="nursing">
                <circle cx="0" cy="0" r="45" fill="white" stroke-width="0" class="background"></circle>
                <circle cx="0" cy="0" r="45" fill="none" stroke-width="7.5" stroke="blue"></circle>
                <line x1="-17.5" y1="0" x2="17.5" y2="0" stroke-width="5" stroke="blue"></line>
                <line x1="0" y1="-17.5" x2="0" y2="17.5" stroke-width="5" stroke="blue"></line>
            </g>
        </g>



    </svg>

    <script lang="text/javascript">
        var percentColors = [
            { pct: 0.0, color: { r: 0xff, g: 0x00, b: 0 } },
            { pct: 0.5, color: { r: 0xff, g: 0xff, b: 0 } },
            { pct: 1.0, color: { r: 0x00, g: 0xff, b: 0 } }];

        var getColorForPercentage = function (pct) {
            for (var i = 1; i < percentColors.length - 1; i++) {
                if (pct < percentColors[i].pct) {
                    break;
                }
            }
            var lower = percentColors[i - 1];
            var upper = percentColors[i];
            var range = upper.pct - lower.pct;
            var rangePct = (pct - lower.pct) / range;
            var pctLower = 1 - rangePct;
            var pctUpper = rangePct;
            var color = {
                r: Math.floor(lower.color.r * pctLower + upper.color.r * pctUpper),
                g: Math.floor(lower.color.g * pctLower + upper.color.g * pctUpper),
                b: Math.floor(lower.color.b * pctLower + upper.color.b * pctUpper)
            };
            return 'rgb(' + [color.r, color.g, color.b].join(',') + ')';
            // or output as hex if preferred

        }
        var zoomed = false;
        d3.select(".plus#home").on("click", function (event) {
            d3.select("line.plus").attr("stroke", zoomed ? "blue" : "none");
            d3.select("#all").transition().duration(750).attr("transform", zoomed ? "" : "translate(-120 -600) scale(2.5 2.5)");
            zoomed = !zoomed;
        });

        var perc = 1 / 10;
        d3.select(".head").attr("fill", getColorForPercentage(perc)).attr("r", 50 * perc);

        d3.csv("Sturzaten_bearbeitet_Koerperregionen.csv", function (data) {
            console.log(data);
        })
    </script>
</body>

</html>